{% extends 'plantilla.html' %}
{% block title %}Nuevo alumno{% endblock %}

{% block headerinf %}
{% endblock %}
<!------------------------------------------------------->
{% block maincontent %}
    <div class="title-main">
        <h2>Inscripcion definitiva</h2>
        <p>ciclo lectivo 2024</p>
    </div>
    <div class="container-inputs">
        {% include 'components/tab.html'%}
        <div class="tab-header-container">
            <button class="tab_btn active">Alumno</button>
            <button class="tab_btn">Tutor</button>
            <button class="tab_btn">Inscripcion</button>
            <button class="tab_btn">Legal</button>
            <div class="line"></div>
        </div>
        
        <div class="tab-body-container">
            <form action="{{ url_for('formulario') }}" method="post">
                <div class="content active">
                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Datos del estudiante</h2>

                        <div class="column-form-left">
                            <div class="name-and-input">
                                <p class="items-name">Apellido</p>
                                <input type="text" class="input-style" name="apellido-alumno" autocomplete="off" placeholder="" required>
                            </div>
                        </div>
                        <div class="column-form-right">
                            <div class="name-and-input">
                                <p class="items-name">Nombre</p>
                                <input type="text" class="input-style" name="nombre-alumno" autocomplete="off" placeholder="" required>
                            </div>
                        </div>

                        <p class="items-name">Fecha de nacimiento</p>
                        <input type="date" class="input-style" name="fechaNacimiento" autocomplete="off" placeholder="" required>

                        <p class="items-name">¿Posee DNI argentino?</p>
                        <div class="checkbox-container" id="dni-options">
                            <div class="check-label">
                                <input type="checkbox" id="checkbox1" name="dni-student-state" value="Si, y tiene el DNI fisico" checked>
                                <label for="checkbox1">Si, y tiene el DNI fisico</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox2" name="dni-student-state" value="Si, pero NO tiene el DNI fisico y se encuentra en tramite">
                                <label for="checkbox2">Si, pero NO tiene el DNI fisico y se encuentra en tramite</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox3" name="dni-student-state" value="Si, pero NO tiene el DNI fisico y NO se encuentra en tramite">
                                <label for="checkbox3">Si, pero NO tiene el DNI fisico y NO se encuentra en tramite</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox4" name="dni-student-state" value="NO posee DNI argentino">
                                <label for="checkbox3">NO posee DNI argentino</label>
                            </div>
                        </div>
                        
                        <div id="section-has-dni" style="display: none; width: 100%;">
                            <div class="column-form-left">
                                <div class="name-and-input">
                                    <p class="items-name">Sí respondió SI, indique número de DNI argentino:</p>
                                    <input type="number" class="input-style" name="dni-student" autocomplete="off" placeholder="" >
                                </div>
                            </div>
                            <div class="column-form-right">
                                <div class="name-and-input">
                                    <p class="items-name">CUIL</p>
                                    <input type="number" class="input-style" name="cuil-student" autocomplete="off" placeholder="" >
                                </div>
                            </div>
                        </div>
                    
                        <div id="section-no-dni" style="display: none;">
                            <p class="items-name">Sí respondio que NO tiene DNI argentino:</p>
                            <div class="checkbox-container">
                                <div class="check-label">
                                    <label>¿Posee certificado de pre-identificación(CPI)?</label>
                                    <input style="margin: 0 10px 0 0;" type="checkbox" name="cpi-student" value="Si" checked>
                                    <label for="checkbox1">Si</label>
                                    <input style="margin: 0 10px 0 0;" type="checkbox" name="cpi-student" value="No">
                                    <label for="checkbox1">No</label>
                                </div>
                                <div class="check-label">
                                    <label>¿Posee documento extranjero?</label>
                                    <input style="margin: 0 10px 0 0;" type="checkbox" name="foreign_doc" value="Si" checked>
                                    <label for="checkbox1">Si</label>
                                    <input type="text" style="max-width: 110px" placeholder="Indique tipo" autocomplete="off" name="document_type" class="input-style">
                                    <input style="margin: 0 10px 0 10px;"type="checkbox" name="foreign_doc"  value="No">
                                    <label for="checkbox1">No</label>
                                </div>
                            </div> 
                        </div>
                        
                        <p class="items-name" style="width: 100%;">Identidad de género</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                        <div class="check-label">
                            <input type="checkbox" id="checkbox-1" name="gender" value="Mujer" checked>
                            <label for="checkbox-1">Mujer</label>
                        </div>
                        
                        <div class="check-label">
                            <input type="checkbox" id="checkbox-2" name="gender" value="Mujer trans/ travesti">
                            <label for="checkbox2">Transformer mujer</label>
                        </div>
                        
                        <div class="check-label">
                            <input type="checkbox" id="checkbox3" name="gender" value="No binario">
                            <label for="checkbox-3">No binario</label>
                        </div>
                        <div class="check-label">
                            <input type="checkbox" id="checkbox4" name="gender" value="No desea responder">
                            <label for="checkbox-4">No desea responder</label>
                        </div>
                    
                        <div class="check-label">
                            <input type="checkbox" id="checkbox5" name="gender" value="Hombre">
                            <label for="checkbox5">Hombre</label>
                        </div>
                        <div class="check-label">
                            <input type="checkbox" id="checkbox6" name="gender" value="Hombre trans/ travesti">
                            <label for="checkbox6">Transformer hombre</label>
                        </div>
                        <div class="check-label">
                            <input type="checkbox" id="checkbox7" name="gender" value="Otra">
                            <label for="checkbox7">Otra</label>
                        </div>
                        </div>
                        
                        <p class="items-name">Lugar de nacimiento</p>
                        <div class="checkbox-container" style="flex-direction: row;" id="lugar-nacimiento-alumno">
                            <div class="check-label">
                                <input type="checkbox" id="checkbox7" name="lugar-nacimiento-check" value="En Argentina" checked>
                                <label for="checkbox7">Argentina</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox8" name="lugar-nacimiento-check" value="En el extranjero">
                                <label for="checkbox8">En el extranjero</label>
                            </div>
                            <input type="text" style="width:200px;" class="input-style" name="Nacionalidad-alumno" autocomplete="off" placeholder="Nacionalidad" required>
                        </div>
                        
                        <p class="items-name">Solo para quienes marcaron Argentina</p>
                        <div class="checkbox-container" style="flex-direction: row;" id="provincia-nacimiento-alumno">
                            <div class="check-label">
                                <label for="checkbox7">Provincia:</label>
                                <input type="checkbox" id="checkbox7" name="provincia-nacimiento-alumno-check" value="Buenos Aires" checked>
                                <label for="checkbox7">Buenos Aires</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox8" name="provincia-nacimiento-alumno-check" value="Otra">
                                <label for="checkbox8">Otra</label>
                            </div>
                            <input type="text" style="width:200px;" class="input-style" name="provincia-nacimiento-alumno" autocomplete="off" placeholder="Provincia" >
                        </div>

                        <div class="checkbox-container" id="BSAS-option">
                            <div style="display: flex; width: 100%;">
                                <div class="column-form-left">
                                    <div class="name-and-input">
                                        <p class="items-name">Distritos</p>
                                        <input type="text" class="input-style" name="distrito-alumno" autocomplete="off" placeholder="" >
                                    </div>
                                </div>
                                <div class="column-form-right">
                                    <div class="name-and-input">
                                        <p class="items-name">Localidad</p>
                                        <input type="text" class="input-style" name="localidad-alumno" autocomplete="off" placeholder="" >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Domicilio</h2>
                        <div class="column-form-left" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                            {% set fields = {
                                'Calle': {'name': 'calle-alumno', 'type': 'text', 'required': True, 'style': 'width: 100%;'},
                                'Entre calle': {'name': 'entre-calle-alumno', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Y calle': {'name': 'y-calle-alumno', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Provincia': {'name': 'provincia-residencia-alumno', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Distrito': {'name': 'distrito-residencia-alumno', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Telefono': {'name': 'telefono-alumno', 'type': 'number', 'required': True, 'style': 'width: 100%;'}
                            } %}
                            
                            {% for label, field in fields.items() %}
                                <div  style="{{ field.style }}">
                                    <p class="items-name">{{ label }}</p>
                                    <input type="{{ field.type }}" class="input-style" name="{{ field.name }}" autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                </div>
                            {% endfor %}
                        </div>
                        
                        <div class="column-form-right" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                            {% set additional_fields = {
                                'Nº': {'name': 'numero-calle-alumno', 'type': 'number', 'required': True, 'style': 'width: 106px;'},
                                'Piso': {'name': 'piso-domicilio-alumno', 'type': 'number', 'required': True, 'style': 'width: 106px;'},
                                'Torre': {'name': 'torre-domicilio-alumno', 'type': 'text', 'required': True, 'style': 'width: 106px;'},
                                'Depto': {'name': 'depto-domicilio-alumno', 'type': 'text', 'required': True, 'style': 'width: 106px;'},
                                'Otro dato': {'name': 'otrodato-domicilio-alumno', 'type': 'text', 'required': True, 'style': 'width: 100%;'},
                                'Localidad': {'name': 'localidad-residencia-alumno', 'type': 'text', 'required': True, 'style': 'width: 100%;'},
                                'Telefono celular': {'name': 'telefono-celular-alumno', 'type': 'number', 'required': True, 'style': 'width: 100%;'}
                            } %}
                
                            {% for label, field in additional_fields.items() %}
                                <div style="{{ field.style }}">
                                    <p class="items-name">{{ label }}</p>
                                    <input type="{{ field.type }}" class="input-style" name="{{ field.name }}" style="{{ field.style }}" autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Otros datos</h2>
                    
                        {% set data = {
                        'Hermanas o hermanos': { 'siblings': ['Si', 'No'] },
                        
                        '¿Se hablan lenguas distintas al castellano en el hogar?': { 'language': ['Si', 'No'] },
                        
                        'En caso afirmativo': { 'other-language': ['Lengua/s indígena/s', 'Otra/s lengua/s'] },

                        '¿Se reconoce perteneciente o descendiente de Pueblos Originarios?': {'aboriginal-descendant': ['Si', 'No'] },
                    
                        'Percibe': { 'percibe-auh': ['Asignación Universal por hijo (AUH)'],
                            'percibe-progresar':['Progresar']  },
                        'Medio de transporte que utiliza para llegar al establecimiento': { 'transport': ['A pie/Bicicleta', 'Transporte escolar DGCyE', 'Colectivo', 'Tren', 'Vehículo particular', 'Otro'] } 
                        } %}
                
                        {% for title, options in data.items() %}
                        <p class="items-name">{{ title }}</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                            {% for name, labels in options.items() %}
                                {% for label in labels %}
                                    <div class="check-label">
                                        <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                        <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                    </div>
                                {% endfor %}
                            {% endfor %}
                        </div>
                        {% endfor %}
                        <p class="items-name">Contestan estudiantes de 14 años y más</p>
                        <div class="checkbox-container" style="flex-direction: row;" id="more-data-options">
                            <div class="check-label">
                                <label for="checkbox1">¿Tiene hijas o hijos menores de 3 años?</label>
                                <input type="checkbox" id="checkbox1" name="children" value="Si">
                                <label for="checkbox1">Si</label>
                                <input type="checkbox" id="checkbox1" name="children" value="No">
                                <label for="checkbox1">No</label>
                            </div>
                            <div class="check-label">
                                <label for="checkbox1">¿Asisten a una sala del Proyecto de Salas Maternales?</label>
                                <input type="checkbox" id="checkbox1" name="salas-maternales" value="Si">
                                <label for="checkbox1">Si</label>
                                <input type="checkbox" id="checkbox1" name="salas-maternales" value="No">
                                <label for="checkbox1">No</label>
                            </div>
                        </div>
                    </div>

                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Informacion de salud</h2>
                        <p class="items-name">¿Padece o ha padecido alguna o algunas de las siguientes condiciones de salud? (Marcar por Sí o por No)</p>
                        {% set condiciones_salud = {
                            "column1": [
                                {"nombre": "Asma / Broncoespasmos a repetición", "campo": "asma"},
                                {"nombre": "Celíaca", "campo": "celiaquia"},
                                {"nombre": "Problemas / Condiciones cardíacas", "campo": "cardiacas"},
                                {"nombre": "Diabetes", "campo": "diabetes"},
                                {"nombre": "Presión arterial elevada", "campo": "presion"},
                                {"nombre": "Convulsiones", "campo": "convulsiones"},
                                {"nombre": "Alteraciones sanguíneas", "campo": "sanguineas"},
                                {"nombre": "Quemaduras moderadas o severas", "campo": "quemaduras"} ] ,
                            "column2": [
                                {"nombre": "Falta o no funciona algún órgano", "campo": "falta-organo"},
                                {"nombre": "Enfermedad oncohematológica", "campo": "oncohematologica"},
                                {"nombre": "Inmunodeficiencias por enfermedad o medicamentos", "campo": "inmunodeficiencias"},
                                {"nombre": "Fracturas, luxaciones, lesiones ligamentarias previas", "campo": "fracturas"},
                                {"nombre": "Otro problema en los huesos o articulaciones", "campo": "otro-problema"},
                                {"nombre": "Traumatismo de cráneo que haya requerido observación o internación", "campo": "traumatismo-craneal"},
                                {"nombre": "Problema de piel", "campo": "problema-piel"} ] } %}
                        {% for columna, condiciones in condiciones_salud.items() %}
                        <div class="column-form-{{ 'left' if loop.index == 1 else 'right' }}">
                            <table style="width: 100%;">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th style="margin-right: 20px;" class="checkbox">Sí</th>
                                        <th style="margin-right: 20px;" class="checkbox">No</th>
                                    </tr>
                                </thead>
                                <tbody class="checkbox-container" style="display: contents;width: 100%;" id="enfermedades-alumno">
                                    {% for condicion in condiciones %}
                                    <tr>
                                        <td>{{ condicion.nombre }}</td>
                                        <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="Si"></td>
                                        <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="No"></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        {% endfor %}
                        <p class="items-name" style="width: 100%;">En relacion con el ejercicio (durante o después), ha padecido alguna vez:</p>
                        {% set condiciones_salud_ejercicio = {
                            "column1": [
                                {"nombre": "Desmayos", "campo": "desmayos"},
                                {"nombre": "Dolor fuerte en el pecho", "campo": "dolor-fuerte-en-el-pecho"},
                                {"nombre": "Mareo", "campo": "mareo"}] ,
                            "column2": [
                                {"nombre": "Mayor cansancio que sus compañer@s", "campo": "mayor-cansancio"},
                                {"nombre": "Palpitaciones", "campo": "palpitaciones"},
                                {"nombre": "Dificultad para respirar durante o despues de la actividad fisica", "campo": "dificultad-respirar"},] } %}
                            
                            {% for columna, condiciones in condiciones_salud_ejercicio.items() %}
                                <div class="column-form-{{ 'left' if loop.index == 1 else 'right' }}">
                                    <table style="width: 100%;">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th style="margin-right: 20px;" class="checkbox">Sí</th>
                                                <th style="margin-right: 20px;" class="checkbox">No</th>
                                            </tr>
                                        </thead>
                                        <tbody class="checkbox-container" style="display: contents;width: 100%;" id="enfermedades-alumno">
                                            {% for condicion in condiciones %}
                                            <tr>
                                                <td>{{ condicion.nombre }}</td>
                                                <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="Si"></td>
                                                <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="No"></td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            {% endfor %}
                        <p class="items-name" style="width: 100%;">¿Tuvo alguna internación? (Marcar por Si o por NO y en caso afirmativo, completar las últimas columnas)</p>
                        
                        {% set internacion = {
                            "column1": [
                                {"nombre": "Internación en sala común", "campo": "sala-comun"},
                                {"nombre": "Internación en sala de cuidados intermedios/intensivos", "campo": "internacion-intensiva"},] } %}
                        {% for columna, condiciones in internacion.items() %}
                            <table style="width: 100%;">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th style="margin-right: 20px;" class="checkbox">Sí</th>
                                        <th style="margin-right: 20px;" class="checkbox">No</th>
                                        <th>¿Cuántas veces?</th>
                                        <th>Indique la/s causa/s o diagnóstico/s</th>
                                    </tr>
                                </thead>
                                <tbody class="checkbox-container" style="display: contents;width: 100%;" id="enfermedades-alumno">
                                    {% for condicion in condiciones %}
                                    <tr>
                                        <td>{{ condicion.nombre }}</td>
                                        <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="Si"></td>
                                        <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="No"></td>
                                        <td style="padding: 0 15px;">
                                            <div class="name-and-input">
                                                <input type="number" class="input-style" name="{{ condicion.campo }}-cuantas-veces" autocomplete="off" placeholder="">
                                            </div>
                                        </td>
                                        <td style="padding: 0 15px;">
                                            <div class="name-and-input">
                                                <input type="text" class="input-style" name="{{ condicion.campo }}-diagnostico" autocomplete="off" placeholder="">
                                            </div>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        {% endfor %}
                        
                        <p class="items-name" style="width: 100%;">¿Padece o ha padecido algún tipo de alergía grave?</p>
                        <div class="checkbox-container">
                            <div class="check-label">
                                <input type="checkbox" id="padece-alergia-1" name="padece-alergia" value="Si">
                                <label for="padece-alergia-1">Si</label> 
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="padece-alergia-2" name="padece-alergia" value="No">
                                <label for="padece-alergia-2">No</label>
                            </div>
                        </div>

                        {% set  noseman = {
                            "column1": [
                                {"nombre": "Medicamentos", "campo": "medicamentos"},
                                {"nombre": "Vacunas", "campo": "vacunas"},
                                {"nombre": "Alimento", "campo": "alimento"}] ,
                            "column2": [
                                {"nombre": "Picadura de insectos", "campo": "picadura-insectos"},
                                {"nombre": "Estacionales(Polen, polvos, etc.)", "campo": "alergias-Estacionales"},
                                {"nombre": "Otras", "campo": "otras-alergias"},] } %}
                            
                            {% for columna, condiciones in noseman .items() %}
                                <div class="column-form-{{ 'left' if loop.index == 1 else 'right' }}">
                                    <table style="width: 100%;">
                                        <thead>
                                            <tr>
                                                <th></th>
                                                <th style="margin-right: 20px;" class="checkbox">Sí</th>
                                                <th style="margin-right: 20px;" class="checkbox">No</th>
                                                <th style="margin-right: 20px;" class="checkbox">¿Requirió internación?</th>
                                            </tr>
                                        </thead>
                                        <tbody class="checkbox-container" style="display: contents;width: 100%;" id="enfermedades-alumno">
                                            {% for condicion in condiciones %}
                                            <tr>
                                                <td>{{ condicion.nombre }}</td>
                                                <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="Si"></td>
                                                <td class="checkbox"><input class="input-check" type="checkbox" name="{{ condicion.campo }}" value="No"></td>
                                                <td class="checkbox"  style="flex-direction: row;display: flex; justify-content: center;" >
                                                    <div class="check-label">
                                                        <input type="checkbox" id="requirio-internacio-1" name="{{ condicion.campo }}-requirio-internacion" value="Si">
                                                        <label for="padece-alergia-1">Si</label>
                                                    </div>
                                                    <div class="check-label">
                                                        <input type="checkbox" id="requirio-internacio-2" name="{{ condicion.campo }}-requirio-internacion" value="No">
                                                        <label for="padece-alergia-2">No</label>
                                                    </div>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                </div>
                            {% endfor %}
                        
                        <div class="column-form-left" style="flex-direction: column;">
                            {% set noseman1 = {
                                '¿Tiene disminución auditiva?': {'disminucion-auditiva': ['Si', 'No'] },
                                '¿Tiene disminución visual?': {'disminución-visual': ['Si', 'No'] },
                                '¿Recibe de manera habitual algún tipo de medicación?': {'medicacion-habitual': ['Si', 'No'] },
                                '¿Tuvo alguna operación?': {'operacion': ['Si', 'No'] }}
                            %}
                        
                            {% for title, options in noseman1.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="column-form-right" style="flex-direction: column;">
                            {% set noseman1 = {
                                'En caso afirmativo:¿Usa audífonos?': {'disminucion-auditiva-audifonos': ['Si', 'No'] },
                                'En caso afirmativo:¿Usa lentes?': {'disminución-visual-lentes': ['Si', 'No'] },}
                            %}
                        
                            {% for title, options in noseman1.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                            <div class="name-and-input">
                                <p class="items-name">En caso afirmativo, ¿Cúal?</p>
                                <input type="text" class="input-style" name="medicacion-habitual-tipo" autocomplete="off" placeholder="" required>
                            </div>
                            <div class="name-and-input">
                                <p class="items-name">Por qué motivo</p>
                                <input type="text" class="input-style" name="motivo-operacion" autocomplete="off" placeholder="" required>
                            </div>
                        </div>
                    </div>

                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Antecedentes familiares de salud</h2>
                        <p class="items-name">¿Algún familiar directo padece o ha padecido alguna o algunas de las siguientes condiciones de salud?</p>
                    
                        <div class="column-form-left" style="flex-direction: column;">
                            {% set noseman2 = {
                                'Muerte súbita de un familiar menor de 50 años': {'muerte-subita': ['Si', 'No'] },
                                'Diabetes': {'diabetes': ['Si', 'No'] },
                                'Problemas cardíacos': {'problemas-cardíacos': ['Si', 'No'] },}
                            %}
                        
                            {% for title, options in noseman2.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="column-form-right" style="flex-direction: column;">
                            {% set noseman3 = {
                                'Tos crónica': {'tos-cronica': ['Si', 'No'] },
                                'celiaquía': {'celiaquia': ['Si', 'No'] }}
                            %}
                        
                            {% for title, options in noseman3.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>

                    </div>

                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Datos del establecimiento en el que se inscribe</h2>
                        <div class="column-form-left" style="display: flex; flex-wrap: wrap; column-gap: 30px;">
                            <div class="name-and-input">
                                <p class="items-name">Distrito</p>
                                <input type="text" class="input-style" name="distrito-establecimiento" autocomplete="off" placeholder="" required>
                            </div>
                            <div class="name-and-input" style="flex: 1 0 47%; min-width:242px;">
                                <p class="items-name">Nombre escuela</p>
                                <input type="text" class="input-style" name="nombre-establecimiento" autocomplete="off" placeholder="" required>
                            </div>
                            <div class="name-and-input" style="flex: 1 0 47%; min-width:242px;">
                                <p class="items-name">Nº</p>
                                <input type="text" class="input-style" name="numero-establecimiento" autocomplete="off" placeholder="" required>
                            </div>
                        </div>
                        <div class="column-form-right" style="display: flex; flex-wrap: wrap; column-gap: 30px;">
                            <p class="items-name">Sector de gestión</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                <div class="check-label">
                                    <input type="checkbox" id="sector-gestion-1" name="sector-gestion" value="Estatal" checked>
                                    <label for="sector-gestion-1">Estatal</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="sector-gestion-2" name="sector-gestion" value="Privado">
                                    <label for="sector-gestion-2">Privado</label>
                                </div>
                            </div>
                            <p class="items-name" style="width: 100%;  margin: 20px 0 0px;">A completar por el establecimiento</p>
                            <div class="name-and-input" style="flex: 1 0 47%; min-width:242px;">
                                <p class="items-name" style=" margin: 0px 0 10px;">Clave provincial</p>
                                <input type="text" class="input-style" name="clave-provincial" autocomplete="off" placeholder="" required>
                            </div>
                            <div class="name-and-input" style="flex: 1 0 47%; min-width:242px;">
                                <p class="items-name">CUE</p>
                                <input type="text" class="input-style" name="cue" autocomplete="off" placeholder="" required>
                            </div>
                        </div>
                    </div>

                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Datos del establecimiento de procedencia</h2>
                        <p class="items-name">Completar solo si el año pasado o este año asistio a otro establecimiento</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                            <div class="check-label">
                                <label>País</label>
                                <input type="checkbox" id="pais-establecimiento-procedencia-1" name="pais-establecimiento-procedencia" value="Argentina" checked>
                                <label for="pais-establecimiento-procedencia-1">Argentina</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="pais-establecimiento-procedencia-2" name="pais-establecimiento-procedencia" value="Otro país">
                                <label for="pais-establecimiento-procedencia-2">Otro país</label>
                            </div>
                        </div>

                        <div class="column-form-left" style="flex-direction: column;">
                            <p class="items-name">Solo para quienes marcaron opción Argentina:</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                <div class="check-label">
                                    <label>Provincia</label>
                                    <input type="checkbox" id="provincia-establecimiento-procedencia-1" name="provincia-establecimiento-procedencia" value="Buenos Aires" checked>
                                    <label for="provincia-establecimiento-procedencia-1">Buenos Aires</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="provincia-establecimiento-procedencia-2" name="provincia-establecimiento-procedencia" value="Otro provincia">
                                    <label for="provincia-establecimiento-procedencia-2">Otra provincia</label>
                                </div>
                            </div>
                            <div class="name-and-input">
                                <p class="items-name">Nivel/Modalidad</p>
                                <input type="text" class="input-style" name="nivel-modalidad" autocomplete="off" placeholder="">
                            </div>
                        </div>

                        <div class="column-form-right" style="flex-direction: column;">
                            <div class="name-and-input">
                                <p class="items-name">Distrito</p>
                                <input type="text" class="input-style" name="distrito-establecimiento-procedencia" autocomplete="off" placeholder="">
                            </div>
                            <p class="items-name">sector de gestión</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                <div class="check-label">
                                    <input type="checkbox" id="gestion-establecimiento-procedencia-1" name="gestion-establecimiento-procedencia" value="Estatal" checked>
                                    <label for="gestion-establecimiento-procedencia-1">Estatal</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="gestion-establecimiento-procedencia-2" name="gestion-establecimiento-procedencia" value="Privado">
                                    <label for="gestion-establecimiento-procedencia-2">Privado</label>
                                </div>
                            </div>
                        </div>

                        {% set registration_data = {
                            'Dependencia': { 'dependecia_establecimiento': ['Oficial', 'Municipal', 'Nacional', 'Privada', 'Otros organismos'] },}            
                        %}
                        {% for title, options in registration_data.items() %}
                            <p class="items-name">{{ title }}</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                {% for name, labels in options.items() %}
                                    {% for label in labels %}
                                        <div class="check-label">
                                            <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                            <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                        </div>
                                    {% endfor %}
                                {% endfor %}
                            </div>
                        {% endfor %}
                        <div class="name-and-input">
                            <p class="items-name">Nombre escuela</p>
                            <input type="text" class="input-style" name="nombre-escuela-procedencia" autocomplete="off" placeholder="">
                        </div>
                    </div>

                    <button class="button2" type="submit">subir</button>
                </div>
                
                <div class="content">
                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Datos de la persona responsable</h2>
                        <p class="items-name">Vínculo con estudiante</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                            <div class="check-label">
                                <input type="checkbox" id="checkbox-madre" name="tutor-vinculo" value="Madre">
                                <label for="checkbox-madre">Madre</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox-padre" name="tutor-vinculo" value="Padre">
                                <label for="checkbox-padre">Padre</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox-tutor" name="tutor-vinculo" value="Tutor">
                                <label for="checkbox-tutor">Tutor</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox-tutora" name="tutor-vinculo" value="Tutora">
                                <label for="checkbox-tutora">Tutora</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="checkbox-otro" name="tutor-vinculo" value="Otro">
                                <label for="checkbox-otro">Otro</label>
                            </div>
                        </div>

                        <div class="column-form-left">
                            <div class="name-and-input">
                                <p class="items-name">Apellido</p>
                                <input type="text" class="input-style" name="apellido-tutor" autocomplete="off" placeholder="" required>
                            </div>
                            
                        </div>
                        <div class="column-form-right">
                            <div class="name-and-input">
                                <p class="items-name">Nombre</p>
                            <input type="text" class="input-style" name="nombre-tutoe" autocomplete="off" placeholder="" required>
                            </div>
                        </div>

                        <p class="items-name">¿Posee DNI argentino?</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                            <div class="check-label">
                                <input type="checkbox" id="dni-si-fisico" name="tutor-dni" value="SI y tiene DNI fisico">
                                <label for="dni-si-fisico">SI, y tiene el DNI físico</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="dni-si-sin-fisico" name="tutor-dni" value="SI, pero NO tiene el DNI fisico">
                                <label for="dni-si-sin-fisico">SI, pero NO tiene el DNI físico</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="dni-no" name="tutor-dni" value="NO, posee DNI argentino">
                                <label for="dni-no">NO posee DNI argentino</label>
                            </div>
                        </div>

                        <div id="section-has-dni" style="display: none; width: 100%;">
                            <div class="column-form-left">
                                <p class="items-name">Sí respondió SI, indique número de DNI argentino:</p>
                                <input type="number" class="input-style" name="dni-tutor" autocomplete="off" placeholder="" >
                            </div>
                        </div>

                        <div id="section-no-dni" style="display: none;">
                            <p class="items-name">Sí respondio que NO tiene DNI argentino:</p>
                            <div class="checkbox-container">
                                <div class="check-label">
                                    <label>¿Posee certificado de pre-identificación(CPI)?</label>
                                    <input style="margin: 0 10px 0 0;" type="checkbox" name="cpi-tutor" value="Si" checked>
                                    <label for="checkbox1">Si</label>
                                    <input style="margin: 0 10px 0 0;" type="checkbox" name="cpi-tutor" value="No">
                                    <label for="checkbox1">No</label>
                                </div>
                                <div class="check-label">
                                    <label>¿Posee documento extranjero?</label>
                                    <input style="margin: 0 10px 0 0;" type="checkbox" name="foreign_doc-tutor" value="Si" checked>
                                    <label for="checkbox1">Si</label>
                                    <input type="text" style="max-width: 110px" placeholder="Indique tipo" autocomplete="off" name="document_type" class="input-style">
                                    <input style="margin: 0 10px 0 10px;"type="checkbox" name="foreign_doc-tutor"  value="No">
                                    <label for="checkbox1">No</label>
                                </div>
                            </div>
                        </div>

                        <p class="items-name">¿Asistió a algún establecimiento educativo?</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                            <div class="check-label">
                                <input type="checkbox" id="educ-si" name="tutor-education" value="SI">
                                <label for="educ-si">SI</label>
                            </div>
                            <div class="check-label">
                                <input type="checkbox" id="educ-no" name="tutor-education" value="NO">
                                <label for="educ-no">NO</label>
                            </div>
                        </div>
                        {% set data = {
                        'En caso afirmativo:¿Cuál es el nivel más alto que cursó?': { 'nivel-cursada': ['Primario', 'Secundario', 'Superior', 'Superior universitario', 'Posgrado'] },
                        '¿Completó ese nivel?': { 'nivel-cursada-state': ['Si', 'No'] } } %}
                        {% for title, options in data.items() %}
                        <p class="items-name">{{ title }}</p>
                        <div class="checkbox-container" style="flex-direction: row;">
                            {% for name, labels in options.items() %}
                                {% for label in labels %}
                                    <div class="check-label">
                                        <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                        <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                    </div>
                                {% endfor %}
                            {% endfor %}
                        </div>
                        {% endfor %}
                    </div>

                    <div class="divisor-inputs">
                        <h2 style="width: 100%;">Condición de actividad</h2>
                        {% set data = {
                            '(Marcar todas las opciones que corresponden)': { 'con-actividad': ['Estudia', 'Trabaja', 'Busca trabajo', 'Hace tareas de cuidado no pagas', 'Recibe jubilación/pensión'] } } %}
                            {% for title, options in data.items() %}
                            <p class="items-name">{{ title }}</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                {% for name, labels in options.items() %}
                                    {% for label in labels %}
                                        <div class="check-label">
                                            <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                            <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                        </div>
                                    {% endfor %}
                                {% endfor %}
                            </div>
                        {% endfor %}

                        <h2 style="width: 100%;">Domicilio</h2>
                        <div class="column-form-left" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                            {% set fields = {
                                'Calle': {'name': 'calle-tutor', 'type': 'text', 'required': True, 'style': 'width: 100%;'},
                                'Entre calle': {'name': 'entre-calle-tutor', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Y calle': {'name': 'y-calle-tutor', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Provincia': {'name': 'provincia-residencia-tutor', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Distrito': {'name': 'distrito-residencia-tutor', 'type': 'text', 'required': True, 'style': 'width: 47%;'},
                                'Telefono': {'name': 'telefono-tutor', 'type': 'number', 'required': True, 'style': 'width: 100%;'}
                            } %}
                            
                            {% for label, field in fields.items() %}
                                <div  style="{{ field.style }}">
                                    <p class="items-name">{{ label }}</p>
                                    <input type="{{ field.type }}" class="input-style" name="{{ field.name }}" autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                </div>
                            {% endfor %}
                        </div>
                        
                        <div class="column-form-right" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                            {% set additional_fields = {
                                'Nº': {'name': 'numero-calle-tutor', 'type': 'number', 'required': True, 'style': 'width: 106px;'},
                                'Piso': {'name': 'piso-domicilio-tutor', 'type': 'number', 'required': True, 'style': 'width: 106px;'},
                                'Torre': {'name': 'torre-domicilio-tutor', 'type': 'text', 'required': True, 'style': 'width: 106px;'},
                                'Depto': {'name': 'depto-domicilio-tutor', 'type': 'text', 'required': True, 'style': 'width: 106px;'},
                                'Otro dato': {'name': 'otrodato-domicilio-tutor', 'type': 'text', 'required': True, 'style': 'width: 100%;'},
                                'Localidad': {'name': 'localidad-residencia-tutor', 'type': 'text', 'required': True, 'style': 'width: 100%;'},
                                'Correo electronico': {'name': 'correo-tutor', 'type': 'text ', 'required': True, 'style': 'width: 100%;'}
                            } %}
                
                            {% for label, field in additional_fields.items() %}
                                <div style="{{ field.style }}">
                                    <p class="items-name">{{ label }}</p>
                                    <input type="{{ field.type }}" class="input-style" name="{{ field.name }}" style="{{ field.style }}" autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                </div>
                            {% endfor %}  
                        </div>
                    </div>
                    <button class="button2" type="submit">subir</button>
                </div>
                
                <div class="content"> 
                        <div class="divisor-inputs">
                            <h2 style="width: 100%;">Inscripción</h2>
                            {% set registration_data = {
                                'Se inscribe en': { 'type_registration': ['Ciclo Básico', 'Ciclo Superior', 'Aula de fortalecimiento', 'Escuela Profesional Secundaria'] },}            
                            %}
                            {% for title, options in registration_data.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-direction: row;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                            <div class="column-form-left" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                                <div class="name-and-input">
                                    <p class="items-name">Orientación</p>
                                    <input type="text" class="input-style" name="orientation" autocomplete="off" placeholder="" >
                                </div>
                            </div>
                            <div class="column-form-right" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                                {% set year_registration = {
                                    'Año': { 'year_registration_fields': ['1', '2', '3', '4','5','6','7'] },}            
                                %}
                                {% for title, options in year_registration.items() %}
                                    <p class="items-name">{{ title }}</p>
                                    <div class="checkbox-container" style="flex-flow: row wrap;">
                                        {% for name, labels in options.items() %}
                                            {% for label in labels %}
                                                <div class="check-label">
                                                    <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                    <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                                </div>
                                            {% endfor %}
                                        {% endfor %}
                                    </div>
                                {% endfor %}
                            </div>
                            {% set request_for_shift = {
                                'Turno': { 'request_shift_fields': ['Mañana', 'Tarde', 'Vespertino', 'Noche'] },}            
                            %}
                            {% for title, options in request_for_shift.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}

                            {% set request_for_workday = {
                                'Jornada': { 'request_workday_fields': ['Simple', 'Extendida', 'Completa/Doble escolaridad'] },}            
                            %}
                            {% for title, options in request_for_workday.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="divisor-inputs">
                            <h2 style="width: 100%;">Condición en la Inscripción actual</h2>
                            {% set registration_condition = {
                                'Jornada': { 'registration_conditiony_fields': ['Ingresante al Nivel', 'Promovid@', 'Reinscript@'] },}            
                            %}
                            {% for title, options in registration_condition.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="divisor-inputs">
                            <h2 style="width: 100%;">Inclusión</h2>
                            <p class="items-name">Vínculo con estudiante</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                <div class="check-label">
                                    <input type="checkbox" id="proyecto-inclusion-1" name="proyecto-inclusion" value="Si">
                                    <label for="proyecto-inclusion-1">Si</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="proyecto-inclusion-2" name="proyecto-inclusion" value="No">
                                    <label for="proyecto-inclusion-2">No</label>
                                </div>
                            </div>
                            <p class="items-name">Si la respuesta es afirmativa, marque lo que corresponda</p>
                            <div class="checkbox-container" style="flex-direction: column;">
                                <div class="check-label">
                                    <input type="checkbox" id="proyecto-inclusion-true-1" name="proyecto-inclusion-true" value="Concurre a una Escuela Especial a contraturno y cuenta con acompañamiento de maestr@ de inclusión">
                                    <label for="proyecto-inclusion-true-1">Concurre a una Escuela Especial a contraturno y cuenta con acompañamiento de maestr@ de inclusión</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="proyecto-inclusion-true-2" name="proyecto-inclusion-true" value="No concurre a una Escuela Especial pero cuenta con acompañante de maestr@ de inclusión">
                                    <label for="proyecto-inclusion-true-2">No concurre a una Escuela Especial pero cuenta con acompañante de maestr@ de inclusión</label>
                                </div>
                            </div>
                            <p class="items-name">¿Cursa con acompañante asistente externo?</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                <div class="check-label">
                                    <input type="checkbox" id="acompañante-externo-1" name="acompañante-externo" value="Si">
                                    <label for="acompañante-externo-1">Si</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="acompañante-externo-2" name="acompañante-externo" value="No">
                                    <label for="acompañante-externo-2">No</label>
                                </div>
                            </div>
                        </div>
                        <div class="divisor-inputs">
                            <h2 style="width: 100%;">Educacion complementaria</h2>
                            <p style="width: 100%;">¿Asiste a alguna de las siguientes instituciones?</p>
                            {% set registration_condition = {
                                'Centro Educativo Complementario (CEC)': {'complementary_institution_cec': ['Si', 'No'] },
                                'Centro de Educación Física (CEF)': {'complementary_institution_cef': ['Si', 'No'] },
                                'Escuela de Educación Estética': {'complementary_institution_eee': ['Si', 'No'] }}
                            %}
                            {% for title, options in registration_condition.items() %}
                                <p class="items-name">{{ title }}</p>
                                <div class="checkbox-container" style="flex-flow: row wrap;">
                                    {% for name, labels in options.items() %}
                                        {% for label in labels %}
                                            <div class="check-label">
                                                <input type="checkbox" id="{{ name }}-{{ loop.index }}" name="{{ name }}" value="{{ label }}">
                                                <label for="{{ name }}-{{ loop.index }}">{{ label }}</label>
                                            </div>
                                        {% endfor %}
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="divisor-inputs">
                            <h2 style="width: 100%;">Servicio alimento escolar</h2>
                            <p style="width: 100%;">En caso de que la institución cuente con el servicio:</p>
                            <p class="items-name">¿Solicita la incorporación en el Servicio Alimento Escolar?</p>
                            <div class="checkbox-container" style="flex-direction: row;">
                                <div class="check-label">
                                    <input type="checkbox" id="alimento-escolar-1" name="alimento-escolar" value="Comedor">
                                    <label for="alimento-escolar-1">Comedor</label>
                                </div>
                                <div class="check-label">
                                    <input type="checkbox" id="alimento-escolar-2" name="alimento-escolar" value="Desayuno y Merienda">
                                    <label for="alimento-escolar-2">Desayuno y Merienda</label>
                                </div>
                            </div>
                        </div>
                        <button class="button2" type="submit">subir</button>
                </div>
                <div class="content">
                        <div class="divisor-inputs">
                            <h2 style="width: 100%;">Restricciones por decisiones judiciales</h2>
                            <div class="column-form-left" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                                {% set legals_fields = {
                                    'Apellido/s':{'name': 'last_name_legals', 'type': 'text', 'required': False, 'style': 'width: 100%;'},
                                    'Tipo de doc':{'name': 'doc_type_legals', 'type': 'text', 'required': False, 'style': 'flex: 1 0 47%; min-width:242px;'},
                                    'Nº':{'name': 'doc_number_legals', 'type': 'number', 'required': False, 'style': 'flex: 1 0 47%; min-width:242px;'},
                                }%}
                                {% for label, field in legals_fields.items() %}
                                    <div class="name-and-input" style="{{ field.style }}">
                                        <p class="items-name">{{ label }}</p>
                                        <input type="{{ field.type }}" class="input-style" name="{{ field.name }}"  autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                    </div>
                                {% endfor %}
                            </div>
                            <div class="column-form-right" style="display: flex; flex-flow: column;">
                                {% set more_legals_fields = {
                                    'Nombre/s':{'name': 'name_legals', 'type': 'text', 'required': False, 'style': 'width: 100%;'},
                                    'Describa Restricción':{'name': 'restriction_legal', 'type': 'text', 'required': False, 'style': 'width: 100%;'},
                                }%}
                                {% for label, field in more_legals_fields.items() %}
                                    <div class="name-and-input" style="{{ field.style }}">
                                        <p class="items-name">{{ label }}</p>
                                        <input type="{{ field.type }}" class="input-style" name="{{ field.name }}"  autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="divisor-inputs">
                            <h3>A completar por el establecimiento</h3>
                            {% set complete_establishment = {
                                'Nº legajo':{'name': 'n_legajo_legals', 'type': 'number', 'required': False, 'style': 'width: 33.33333%;'},
                                'Nº de Matriz':{'name': 'n_matriz_legal', 'type': 'number', 'required': False, 'style': 'width: 33.33333%;'},
                                'Nº de folio':{'name': 'n_folio_legal', 'type': 'number', 'required': False, 'style': 'width: 33.33333%;'},
                            }%}
                            <span style="width: 100%; display: flex; justify-content: space-between; gap: 30px;">
                                {% for label, field in complete_establishment.items() %}
                                    <div class="name-and-input" style="{{ field.style }}">
                                        <p class="items-name">{{ label }}</p>
                                        <input type="{{ field.type }}" class="input-style" name="{{ field.name }}"  autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                    </div>
                                {% endfor %}
                            </span>
                        </div>
                        <div class="divisor-inputs">
                            <p class="items-name">
                                La totalidad de los datos e información suministrada por quien suscribe la presente tiene carácter de Declaración Jurada.
                                La persona abajo firmante se compromete a comunicar al establecimiento cualquier modificación de los datos suministrados en forma inmediata y de manera fehaciente.
                            </p>
                        </div>
                        <div class="divisor-inputs">
                            <div class="column-form-left" style="display: flex; flex-wrap: wrap; column-gap:30px;">
                                {% set legals_fields = {
                                    'Firma persona responsable':{'name': 'person_in_charge', 'type': 'text', 'required': False, 'style': 'width: 100%;'},
                                    'Fecha de Inscripcion':{'name': 'registration_date', 'type': 'date', 'required': False, 'style': 'width: 100%;'},
                                }%}
                                {% for label, field in legals_fields.items() %}
                                    <div class="name-and-input" style="{{ field.style }}">
                                        <p class="items-name">{{ label }}</p>
                                        <input type="{{ field.type }}" class="input-style" name="{{ field.name }}"  autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                    </div>
                                {% endfor %}
                            </div>
                            <!-- Capaz algo que guarde imagenes de firmas¿ seria mejor pero alta paja -->
                            <div class="column-form-right" style="display: flex; flex-flow: column;"> 
                                {% set more_legals_fields = {
                                    'Aclaración':{'name': 'clarification', 'type': 'text', 'required': False, 'style': 'width: 100%;'},
                                    'Firma del directivo':{'name': 'director_signature', 'type': 'text', 'required': False, 'style': 'width: 100%;'},
                                }%}
                                {% for label, field in more_legals_fields.items() %}
                                    <div class="name-and-input" style="{{ field.style }}">
                                        <p class="items-name">{{ label }}</p>
                                        <input type="{{ field.type }}" class="input-style" name="{{ field.name }}"  autocomplete="off" placeholder="" {% if field.required %}required{% endif %}>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                        <button class="button2" type="submit">subir</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        document.querySelectorAll('.checkbox-container').forEach(container => {
            container.addEventListener('change', function(e) {
                if (e.target.type === 'checkbox') {
                    container.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                        if (checkbox.name === e.target.name && checkbox !== e.target) {
                    checkbox.checked = false;
                }
            });
                    // Deshabilitar el input
                    if (e.target.name === 'foreign_doc') {
                        const documentInput = document.querySelector('input[name="document_type"]');
                        if (e.target.value === 'No' && e.target.checked) {
                            documentInput.disabled = true;
                            documentInput.value = "";
                        } else if (e.target.value === 'Si' && e.target.checked) {
                            documentInput.disabled = false;
                        }
                    }
                    if (e.target.name === 'provincia-nacimiento-alumno-check') {
                        const documentInput = document.querySelector('input[name="provincia-nacimiento-alumno"]');
                        if (e.target.value === 'Buenos Aires' && e.target.checked) {
                            documentInput.disabled = true;
                            documentInput.value = "";
                        } else if (e.target.value === 'Otra' && e.target.checked) {
                            documentInput.disabled = false;
                        }
                    }
                }});
        });

        document.addEventListener("DOMContentLoaded", updateSections, sectionbs);
        document.getElementById("dni-options").addEventListener("change", updateSections);
        function updateSections() {
            const hasDniSection = document.getElementById("section-has-dni");
            const noDniSection = document.getElementById("section-no-dni");
            const checkedValue = [...document.querySelectorAll("#dni-options input[type='checkbox']:checked")].map(cb => cb.value);
            
            if (checkedValue.includes("NO posee DNI argentino")) {
                hasDniSection.style.display = "none";
                noDniSection.style.display = "block";
            } else if (checkedValue.length > 0) {
                hasDniSection.style.display = "flex";
                noDniSection.style.display = "none";
            } else {
                hasDniSection.style.display = "none";
                noDniSection.style.display = "none";
            }

        }
        document.getElementById("provincia-nacimiento-alumno").addEventListener("change", sectionbs);
        function sectionbs() {
            const provinciaBuenosAires = document.getElementById("BSAS-option");
            const checkedValues = [...document.querySelectorAll("#provincia-nacimiento-alumno input[type='checkbox']:checked")].map(cb => cb.value);

            if (checkedValues.includes("Buenos Aires")) {
                provinciaBuenosAires.style.display = "flex";
            } else {
                provinciaBuenosAires.style.display = "none";
            }
        }
    </script>
{% endblock %}